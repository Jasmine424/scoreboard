<!DOCTYPE HTML>
<html lang="en">
  
  <head>
    <meta charset="utf-8" />
    <link href="https://fonts.googleapis.com/css?family=Limelight%7CFlamenco%7CFedero%7CYesteryear%7CJosefin+Sans%7CSpinnaker%7CSansita+One%7CHandlee%7CDroid+Sans%7COswald:400,300,700"
    media="screen" rel="stylesheet" type="text/css" />
    <link href="bootstrap.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="bootstrap-responsive.css" media="screen" rel="stylesheet" type="text/css"
    />
    <link href="fontawesome.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="style.css" media="screen" rel="stylesheet" type="text/css" />
    <title>EC521 TEAM2 LAB</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
  </head>
  <script type="text/javascript">
  $(function () {
     var activeTab = $('[href=' + location.hash + ']');
	    activeTab && activeTab.tab('show');
		});
  </script>
  
  <!-- Top RED BAR -->
  <body>
    <div class="container redbar">
    	<div class="row-fluid">
			<span class="span8">
      			<h1 class="topbar">EC521 CYBERSECURITY TEAM2</h1>
    		</span>
		</div>
    </div>
   

  	<!-- Name  -->
	<div class="container spaced">
      <div class="row-fluid">
            <span class="span7 offset1">
      
      <!-- Pass along message if there is one --> 
      <% if !@message.nil?%>
      <div class="alert pagination-centered">
        <button type="button" class="close" data-dismiss="alert">Ã—</button>
        <strong><%= @message %></strong> 
        </div>  
      <% end %>
			
      <h1 class="title">W3AF CHALLENGE</h1>
			<br/><br/>
      <% if @user.nil? %>
			<p class="instruction">Just Enter Your Twiki Username</p>
			<form method="get" action="/login">
			<input type="text" class="input-large username"  name="name" 
       style="text-align:center; 
              height:30px; 
              font-size:18pt; 
              padding:0px; 
              width: 100%;">
			<br/><input type="submit" class="btn btn-1" value="GET STARTED">
			</form>
			<% else %>
			<p class="instruction">Your Logged In As<p/>
      <h1 class="name"><%= @user.name %></h1>
			<p class="instruction"><a class='instruction' href="/logout" >logout</a></p>
        	<% end %>
			</span>
			<span class="span3 offset1">
        <a href="http://w3af.sourceforge.net/documentation/user/w3afUsersGuide.pdf" class="btn btn-1" style="background-color:#ff7f00;">W3AF</a>
				<br/><br/>
        <a class="btn btn-1" style="background-color:goldenrod;">Cha</a>
				<br/><br/>
				<a href="#instructions" role="button" data-toggle="modal" class="btn btn-1" style="background-color:maroon;">What Is This?</a>
			</span>
	  </div>
    </div>
	  
    <!-- Content Section -->
    <div id="content" class="container-fluid container-fluid-1 padded">
      <div class="row-fluid">
        <span class="span10 offset1">
         <ul id="myTab" class="nav nav-tabs">
           <li class>
            <a href="#hidden_files" class="instruction" data-toggle="tab">Hidden Files</a>
           </li>
           <li class>
              <a href="#sqli" class="instruction" data-toggle="tab">SQLI</a>
            </li>
           <li class>
              <a href="#xss" class="instruction" data-toggle="tab">XSS</a>
            </li>
           <li class>
              <a href="#fileupload" class="instruction" data-toggle="tab">File Upload</a>
            </li>
           <li class>
              <a href="#server_side_include" class="instruction" data-toggle="tab">Server Side File Include</a>
            </li>
         </ul>
           <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade active in challenge" id="hidden_files">
             <h3>Robots Reader - Find Hidden Files</h3>
             <p>Sometimes there are pages that admins do not want spiders to be able to visit. They keep theses in a robots.txt file. W3AF has a robotsReader plugin that will reveal the location of these files for us. 
			 </p>
			 <ul>
			 <li>Point W3AF to the page <a href="http://ec521.raxcity.com">http://ec521.raxcity.com/</a></li>
			 <li>Enable the <em>robotsReader</em> plugin in the 'discovery'</li>
			 <li>After running, look at the <em>Results</em> page, there should be a hit for <em>robotsReader</em> 
			 </li>
			 <li>Look at the robots.txt file and find what is listed after Disallow. This is a directory that invisible to the spiders. The admin however, forgot to hide this directory from the public so point your browser to <em>http://ec521.raxcity.com/[invisible directory name].</em></li>
			 </ul>
<p>These are all of the files that the admin did not want you to see. Take a look at the html file here.</p>
<blockquote> What is the super secret password
	<form method="post" action="/answer">
		<input type="hidden" name="question" value="hidden_files">
		<input type="text" name="answer">
		<button type="submit" class="btn btn-danger" >Submit</button>
	</form>
</blockquote>
			</div>
            <div class="tab-pane fade challenge" id="sqli">
              <h3>Exploiting the Database - Attack!</h3>
			  <ul>
				<li>Go over to the Exploit tab,  it should have found sqlmap and sql_webshell exploits</li>
				<li>W3AF has a feature Exploit All Vulns, which is the icon with the 3 gears on it</li>
 				<li>Click that, and W3AF will go through and exploit everything.  After a minute or so, you should notice an entry under the Shells pane.</li>
				<li>Double-click your shell to get access to the sql webshell.   A new window with a command prompt should spawn.</li>
				<li>Use this shell to interact with the database.</li>
			</ul>
<pre>
$ help

fingerprint             perform an exaustive database fingerprint
banner                  get database banner
current-user            get current database user
current-db              get current database name
users                   get database users
dbs                     get available databases
tables [db]             get available databases tables (optional: database)
columns &lt;table&gt; [db]    get table columns (required: table optional: database)
dump &lt;table&gt; [db]       dump a database table (required: -T optional: -D)
file &lt;FILENAME&gt;         read a specific file content
expression &lt;EXPRESSION&gt; expression to evaluate
union-check             check for UNION sql injection	
</pre>
	<ul>
		<li>Use <b>dbs</b> to find the database name</li>
		<li>Use <b>tables</b> to find the table name</li>
		<li>Use <b>dump &lt;table&gt; [db]</b> to dump the table</li>
	</ul>
<pre>
Database: securelab
Table: users
[1 entry]
+---------------+----------------------------------+----+
| username      | password                         | ID |
+---------------+----------------------------------+----+
| jeff          | 166ee015c0e0934a8781e0c86a197c6e | 1  |
+---------------+----------------------------------+----+
</pre>
	<ul>
		<li>What type of passwords are these? Can you crack them (hint: they are not salted)?</li>
		<li>Try cracking them using <em>John the Ripper</em> or <a href="http://crackstation.net">crackstation.net</a></li>
	</ul>
	<blockquote> What is the name of the database
	<form method="post" action="/answer">
		<input type="hidden" name="question" value="db_name">
		<input type="text" name="answer">
		<button type="submit" class="btn btn-danger" >Submit</button>
	</form>
	</blockquote>
	<blockquote> How many tables are in this database
	<form method="post" action="/answer">
		<input type="hidden" name="question" value="table_count">
		<input type="text" name="answer">
		<button type="submit" class="btn btn-danger" >Submit</button>
	</form>
	</blockquote>
	<blockquote> What is the name that holds the columns in database 'users'
	<form method="post" action="/answer">
		<input type="hidden" name="question" value="columns_name">
		<input type="text" name="answer">
		<button type="submit" class="btn btn-danger" >Submit</button>
	</form>
	</blockquote>
	<blockquote> What is James Bonds password?
	<form method="post" action="/answer">
		<input type="hidden" name="question" value="james_bond">
		<input type="text" name="answer">
		<button type="submit" class="btn btn-danger" >Submit</button>
	</form>
	</blockquote>
</div>
            <div class="tab-pane fade" id="xss">
              <p>Hello 2!</p>
            </div>
            <div class="tab-pane fade" id="fileupload">
              <p>Hello 2!</p>
            </div>
            <div class="tab-pane fade" id="server_side_include">
              <p>Hello 2!</p>
            </div>
            <div class="tab-pane fade" id="board">
            </div>
          </div>
        </span>
      </div>
    </div>

    <div class="container-fluid container-fluid-3 padded" >
      <div class="row-fluid row-fluid-1"> 
            <h1>Scoreboard</h1>
			<table class="table table-striped table-condensed">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Score</th>
                  <th>Progress</th>
                </tr>
              </thead>
              <tbody>
              <% @competitors.each do |student| %>
                <tr>
                  <td width="30%" height="20"><%= student.name %></td>
                  <td width="10%"><%= student.score.to_s %></td>
                  <td width="40%">
                    <div class="progress progress-<%= 
                      case student.score
                        when 0..25
                          "danger"
                        when 25..50
                          "warning"
                        when 50..75
                          "info"
                        else
                          "success"
                        end %> progress-striped active" style="margin:0px;">
                      <div class="bar" style="width:<%= student.score.to_s %>%;"></div>
                    </div>
                  </td>
                </tr>
              <% end %>
              </tbody>
            </table>
	   <!-- <span class="span6 span6-3">
          <h2 class="heading heading-3">Collaborate</h2>
          <p class="p-1">Tie it all together with <b>clickable prototypes</b> and <b>commenting</b> features.</p>
          <p
          class="p-1">
            <span>Sign up to try out clickable prototypes and commenting.</span>
            </p>
        </span>
        <span class="span6">
          <div class="well">
            <img class="image" src="image.png">
          </div>
        </span> -->
      </div>
    </div>
    <div class="container-fluid container-fluid-2">
      <div class="row-fluid">
        <span class="span12">
          <img class="image-1  pull-right" src="logo.png" height="50" width="100">
          <p>Raphael Landaverde, Ben Duong, Jeff Crowell, Richard Tia, Samir Ahmed</p>
        </span>
      </div>
    </div>
	<div id="instructions" class="modal hide fade">
	  <div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		<h3>What is the W3AF Challenge</h3>
	  </div>
	  <div class="modal-body">
		<p>Welcome to the W3AF Challenge</p>
	  </div>
	  <div class="modal-footer">
		<a href="/" class="btn btn-warning">Lets Go!</a>
	  </div>
	</div>
  </body>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
</html>
